<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprCamera</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//place this object next to where player starts in the room and set the view to follow this object

snapDiv = 20; //determines how fast the camera snaps to the player (higher numbers follow the player slower), can be changed in creation code
crossDiv = 30; //y change rate

if (instance_exists(objPlayer))
{
    ox = objPlayer.x/800;
    oy = objPlayer.y/608;
    xlock = (ox &gt; 2 and ox &lt; 4 and oy &gt; 1 and oy &lt; 2) or // ox &lt; 5
    (ox &lt; 2 and oy &gt; 2)
    ylock = !((ox &gt; 1 and ox &lt; 2 and oy &gt; 2) or (ox &gt; 4 and ox &lt; 5 and oy &lt; 2) or oy &lt; 1) or
    (ox&lt;3 and oy&gt;1 and oy&lt;2)
    if (xlock) x = floor(ox)*800 + 400;
    else x = objPlayer.x;
    if (ylock) y = floor(oy)*608 + 304;
    else y = objPlayer.y;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (instance_exists(objRongTelescope)){
    if(!objRongTelescope.using and !objRongTelescope2.using){
        if (instance_exists(objPlayer)){
            ox = objPlayer.x/800;
            oy = objPlayer.y/608;
            xlock = (ox &gt; 2 and ox &lt; 5 and oy &gt; 1 and oy &lt; 2) or
            (ox &lt; 2 and oy &gt; 2)
            ylock = !((ox &gt; 1 and ox &lt; 2 and oy &gt; 2) or (ox &gt; 4 and ox &lt; 5 and oy &lt; 2) or oy &lt; 1) or 
            (ox&lt;3 and oy&gt;1 and oy&lt;2)
            // watch the secret
            if(objPlayer.x&gt;352 and objPlayer.x&lt;448 and objPlayer.y&gt;928 and objPlayer.y&lt;960){
                x = 400;
                dy = (928 + 304 - y)
                if (abs(dy)&lt;3) y+=dy
                else y += sign(dy)*max(3,min(8,abs(dy/snapDiv)))
            }
            // watch the bomb
            else if(objPlayer.x&gt;832 and objPlayer.x&lt;2624 and objPlayer.y&gt;1440 and objPlayer.y&lt;2048){
                dx = max(832+400,objPlayer.x)-x;
                dy = ((1440+2048)*0.5-32-y);
                x += sign(dx)*max(3,min(4,abs(dx/snapDiv)))
                y += sign(dy)*max(3,min(4,abs(dy/snapDiv)))
                if (abs(dx)&lt;3) x+=dx
                if (abs(dy)&lt;3) y+=dy
            }
            else{
                if (instance_exists(objRongBoss1)){
                    if(objRongBoss1.curstate=state.Shooting){
                        if(ox &gt; 2 and ox &lt; 5 and oy &lt; 2){
                            xlock = false;
                            ylock = false;
                        }
                    }
                }
                
                if (xlock) dx = (floor(ox)*800 + 400 - x);
                else dx = (objPlayer.x - x) ;
                if abs(dx)&lt;3{
                    x += dx;
                }
                else{
                    if (xlock) x += sign(dx)*max(3,min(8,abs(dx/crossDiv)))
                    else x += sign(dx)*max(3,min(4,abs(dx/snapDiv)))
                }
                
                //y += (objPlayer.y - y) / snapDiv;
                if (ylock) dy = (floor(oy)*608 + 304 - y);
                else dy = (objPlayer.y - y);
                if abs(dy)&lt;3{
                    y+=dy
                }
                else{
                    if (ylock) y += sign(dy)*max(3,min(8,abs(dy/crossDiv)))
                    else y += sign(dy)*max(3,min(4,abs(dy/snapDiv)))
                }
            }
        }
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="64">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_text(32,32*1,"ox:"+string(ox))
draw_text(32,32*2,"oy:"+string(oy))
draw_text(32,32*3,"xlock:"+string(xlock))
draw_text(32,32*4,"ylock:"+string(ylock))
draw_text(32,32*5,(ox&lt;3 and oy&gt;1 and oy&lt;2))
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
